<html>
  <head>
  	{{ template "sources.gohtml" }}
  </head>
  <body class="d-flex flex-column h-100">
    <header>
      {{ template "header.gohtml" }}
    </header>

    <main class="container" role="main">
      <div class="container page-name">
				<h1> Import job template </h1>
			</div>
			<div class="container">
				<form method="POST" id="template" action="/import-template">
					<div class="form-group">
						<label for="template-id">ID</label>
						<input form="template" class="form-control" name="template_id" id="template_id" type="text" readonly="true" value="{{ if eq .ID "" }}null{{ else }}{{ .ID }}{{ end }}"><br />
					</div>
					<div class="form-group">
						<label for="name">Name</label><br />
						<input form="template" class="form-control" name="name" type="text" value="{{ if eq .Name "" }}null{{ else }}{{ .Name }}{{ end }}"><br />
					</div>
					<div class="form-group">
						<label for="description">Description</label><br />
						<input form="template" class="form-control" name="description" type="text" value="{{ if eq .Description "" }}null{{ else }}{{ .Description }}{{ end }}"><br />
					</div>
					<div class="form-group">
						<label for="icon">Icon URL</label><br />
						<input form="template" class="form-control" name="icon-link" type="text" value="{{ if eq .IconLink "" }}null{{ else }}{{ .IconLink }}{{ end }}"><br />
					</div>
				</form>
			</div>
			<div class="container">
				<h2>Survey variables</h2>
				<table class="table table-striped table-hover">
					<thead class="thead-dark">
						<tr>
					    <th scope="col">Playbook variable</td>
					    <th scope="col">Question</td>
							<th scope="col">Description</td>
							<th scope="col">Default</td>
							<th scope="col">Type</td>
							<th scope="col">Choices</td>
              <th scope="col">Required</td>
							<th scope="col">RegEx</td>
					  </tr>
					</thead>
					<tbody>
					{{ range .Spec }}
					  <tr>
					    <td>{{ if eq .Variable "" }}null{{ else }}{{ .Variable }}{{ end }}</td>
					    <td>{{ if eq .QuestionName "" }}null{{ else }}{{ .QuestionName }}{{ end }}</td>
							<td>{{ if eq .QuestionDescription "" }}null{{ else }}{{ .QuestionDescription }}{{ end }}</td>
							<td>{{ if eq .Default "" }}null{{ else }}{{ .Default }}{{ end }}</td>
							<td>{{ if eq .Type "" }}null{{ else }}{{ .Type }}{{ end }}</td>
							<td>{{ if eq .Choices "" }}null{{ else }}{{ .Choices }}{{ end }}</td>
              <td>{{ if .Required }}true{{ else }}false{{ end }}</td>
							<td>{{ if eq .RegEx "" }}<input form="template" type="text" name="{{ if eq .Variable "" }}null{{ else }}{{ .Variable }}{{ end }}">{{ else }}{{ .RegEx }}{{ end }}</td>
					  </tr>
					{{end}}
					</tbody>
				</table>
			</div>
			<div class="container">
				<input type="submit" form="template" value="IMPORT" />
			</div>
		</main>

  <footer class="footer mt-auto py-3">
    {{ template "footer.gohtml" }}
  </footer>
</html>
